---
import { getCollection } from 'astro:content';

// 为每篇文章生成静态路径
export async function getStaticPaths() {
  const posts = await getCollection('posts');
  return posts.map((post) => ({
    params: { slug: post.slug }, // `slug` 是文件名的默认标识符
    props: { post }, // 将文章数据传递给页面
  }));
}

const { post } = Astro.props; // 接收从getStaticPaths传递过来的文章数据
---

<!-- 文章详情页的布局和内容 -->
<h1>{post.data.title}</h1>
<article>
  {await post.render()} <!-- 渲染Markdown正文 -->
</article>