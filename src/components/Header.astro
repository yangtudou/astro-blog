---
import Logo from '../components/Logo.astro'
import ToggleTheme from './ToggleTheme.astro'
---

<header class="z-1">
  <a href="/" class="w-12 h-12 absolute fixed m-7 select-none outline-none z-1">
    <Logo />
  </a>

  <!-- 导航栏 -->
  <nav class="w-full p-2rem fixed grid justify-end">
    <div class="grid gap-1rem grid-auto-flow-col">
      <!-- 关于链接 -->
      <a href="/about" title="关于" class="opacity-60 hover:opacity-100 transition-opacity">
        <span class="lt-md:hidden">关于</span>
        <div class="i-ri:information-2-line md:hidden" />
      </a>

      <!-- GitHub 链接 -->
      <a 
        href="https://github.com/antfu" 
        target="_blank" 
        title="GitHub" 
        class="lt-md:hidden opacity-60 hover:opacity-100 transition-opacity"
      >
        <div class="i-uil-github-alt" />
      </a>

      <!-- 主题切换组件 -->
      <ToggleTheme />
    </div>
  </nav>
</header>


<style>

.nav > * {
  margin: auto;
}

.nav img {
  margin-bottom: 0;
}

.nav a {
  cursor: pointer;
  text-decoration: none;
  color: inherit;
  transition: opacity 0.2s ease;
  opacity: 0.6;
  outline: none;
}

.nav a:hover {
  opacity: 1;
  text-decoration-color: inherit;
}

.nav .right {
  display: grid;
  grid-gap: 1.2rem;
  grid-auto-flow: column;
}

.nav .right > * {
  margin: auto;
}
</style>

<script>
// 客户端脚本 - 处理滚动显示和主题切换
document.addEventListener('DOMContentLoaded', function() {
  // 回到顶部按钮的显示/隐藏
  const scrollButton = document.getElementById('back-to-top')
  if (scrollButton) {
    window.addEventListener('scroll', function() {
      const scrollY = window.scrollY || window.pageYOffset
      if (scrollY > 300) {
        scrollButton.classList.remove('op0', 'pointer-events-none')
        scrollButton.classList.add('op30')
      } else {
        scrollButton.classList.add('op0', 'pointer-events-none')
        scrollButton.classList.remove('op30')
      }
    })
  }
})
</script>