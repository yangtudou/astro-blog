---
import LiquidGlassBase from './LiquidGlassBase.vue';
---

<div class="float-controls-container">
  <div class="left-action">
    <LiquidGlassBase client:load expandedWidth="160px">
      <div class="island-content-wrapper">
        <div class="capsule-dock">
          <div class="i-ri-more-fill"></div>
        </div>

        <div class="expand-wrapper">
          <div class="expanded-content">
            <nav class="inner-menu-list">
              <a href="/" class="menu-item"><span>é¦–é¡µ</span><div class="i-ri-home-5-line"></div></a>
              <a href="/posts" class="menu-item"><span>æ–‡ç« </span><div class="i-ri-article-line"></div></a>
              <a href="/about" class="menu-item"><span>å…³äº</span><div class="i-ri-user-3-line"></div></a>
              <a href="https://github.com/yangtudou" target="_blank" class="menu-item"><span>GitHub</span><div class="i-ri-github-line"></div></a>
            </nav>
          </div>
        </div>
      </div>
    </LiquidGlassBase>
  </div>
</div>

<style>
  .float-controls-container {
    position: fixed;
    inset: 0;
    pointer-events: none;
    z-index: 10000;
  }

  .left-action {
    position: absolute;
    bottom: 1.5rem;
    left: 3.75rem; 
    pointer-events: auto;
  }

  .island-content-wrapper {
    width: 100%;
    height: 100%;
  }

  .capsule-dock {
    position: absolute;
    inset: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.4s ease;
    font-size: 1.2rem;
    color: #1d1d1f;
  }

  :global(.dark) .capsule-dock {
    color: #f5f5f7;
  }

  :global(.is-expanded) .capsule-dock {
    opacity: 0;
    transform: scale(0.4) translateY(20px);
    pointer-events: none;
  }

  .expand-wrapper {
    display: grid;
    grid-template-rows: 0fr;
    transition: grid-template-rows 0.6s cubic-bezier(0.5, 1.7, 0.3, 0.8);
  }

  :global(.is-expanded) .expand-wrapper {
    grid-template-rows: 1fr;
  }

  .expanded-content {
    overflow: hidden;
  }

  .inner-menu-list {
    display: flex;
    flex-direction: column;
    padding: 0.8rem 0.6rem;
  }

  .menu-item {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0.7rem 0.8rem;
    color: #1d1d1f;
    text-decoration: none;
    font-size: 0.88rem;
    font-weight: 600;
    
    /* ğŸ”‘ å¢å¼ºåˆå§‹çŠ¶æ€ï¼šæ›´æ·±çš„ä½ç§»å’Œå¾®ç¼©æ”¾ï¼Œä½¿å›å¼¹æ„Ÿæ›´æ˜æ˜¾ */
    transform: translateY(35px) scale(0.8);
    opacity: 0;
    transition: 
      transform 0.6s cubic-bezier(0.34, 1.56, 0.64, 1), 
      opacity 0.4s ease;
  }

  :global(.dark) .menu-item {
    color: #f5f5f7;
  }

  :global(.is-expanded) .menu-item {
    transform: translateY(0) scale(1);
    opacity: 1;
  }

  /* ğŸ”‘ ä¼˜åŒ–äº¤é”™å»¶è¿Ÿæ—¶é—´ï¼Œä½¿èŠ‚å¥æ„Ÿæ›´é²œæ˜ */
  .menu-item:nth-child(1) { transition-delay: 80ms; }
  .menu-item:nth-child(2) { transition-delay: 140ms; }
  .menu-item:nth-child(3) { transition-delay: 200ms; }
  .menu-item:nth-child(4) { transition-delay: 260ms; }

  /* ğŸ”‘ ç§»é™¤ hover æ—¶çš„å¹³ç§»åŠ¨ç”»ï¼Œä»…ä¿ç•™å¾®å°çš„äº®åº¦å˜åŒ–ï¼ˆå¯é€‰ï¼‰ */
  .menu-item:hover {
    background: rgba(255, 255, 255, 0.1);
    border-radius: 12px;
  }

  @media (max-width: 768px) {
    .left-action { 
      left: 1.75rem;
      bottom: 1.2rem; 
    }
  }
</style>